<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="590px" preserveAspectRatio="none" style="width:2117px;height:590px;background:#FFFFFF;" version="1.1" viewBox="0 0 2117 590" width="2117px" zoomAndPan="magnify"><defs/><g><!--MD5=[2b51a3af5b657ce6efb67fe5a70c2b4a]
cluster systemresource--><g id="cluster_systemresource"><path d="M8.5,129 L122.5,129 A3.75,3.75 0 0 1 125,131.5 L132,151.4883 L2107.5,151.4883 A2.5,2.5 0 0 1 2110,153.9883 L2110,580.5 A2.5,2.5 0 0 1 2107.5,583 L8.5,583 A2.5,2.5 0 0 1 6,580.5 L6,131.5 A2.5,2.5 0 0 1 8.5,129 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="132" y1="151.4883" y2="151.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="113" x="10" y="144.5352">systemresource</text></g><!--MD5=[857233cdc7018b1e8695fe78ce49561f]
cluster __builtin__--><g id="cluster___builtin__"><path d="M67.5,6 L116.5,6 A3.75,3.75 0 0 1 119,8.5 L126,28.4883 L269.5,28.4883 A2.5,2.5 0 0 1 272,30.9883 L272,102.5 A2.5,2.5 0 0 1 269.5,105 L67.5,105 A2.5,2.5 0 0 1 65,102.5 L65,8.5 A2.5,2.5 0 0 1 67.5,6 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="65" x2="126" y1="28.4883" y2="28.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="48" x="69" y="21.5352">builtin</text></g><!--MD5=[7ee286f3d1d9045d92ae76efe2f653d4]
class systemresource.CgroupResource--><g id="elem_systemresource.CgroupResource"><rect codeLine="2" fill="#F1F1F1" height="212.8828" id="systemresource.CgroupResource" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="432" x="338" y="354"/><ellipse cx="492.25" cy="370" fill="#7FFFD4" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M491.9834,371.063 Q490.1323,370.3574 489.4766,369.5813 Q488.8208,368.8052 488.8208,367.4937 Q488.8208,365.8086 489.8999,364.8457 Q490.979,363.8828 492.8633,363.8828 Q493.7183,363.8828 494.5732,364.0779 Q495.4282,364.2729 496.2666,364.6548 L496.2666,367.0454 Q495.478,366.4893 494.6646,366.1987 Q493.8511,365.9082 493.0542,365.9082 Q492.166,365.9082 491.6929,366.2651 Q491.2197,366.6221 491.2197,367.2861 Q491.2197,367.8008 491.5642,368.137 Q491.9087,368.4731 493.0044,368.8799 L494.0586,369.2783 Q495.5527,369.8262 496.2583,370.731 Q496.9639,371.6357 496.9639,373.0137 Q496.9639,374.8896 495.8557,375.8152 Q494.7476,376.7407 492.5063,376.7407 Q491.585,376.7407 490.6594,376.5208 Q489.7339,376.3008 488.8706,375.8691 L488.8706,373.3374 Q489.8501,374.0347 490.7673,374.375 Q491.6846,374.7153 492.5811,374.7153 Q493.4858,374.7153 493.9839,374.3044 Q494.4819,373.8936 494.4819,373.1548 Q494.4819,372.5986 494.1499,372.1794 Q493.8179,371.7603 493.187,371.5195 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="512.75" y="375.291">CgroupResource</text><line style="stroke:#181818;stroke-width:0.5;" x1="339" x2="769" y1="386" y2="386"/><ellipse cx="349" cy="399.7441" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="358" y="403.5352">Type ResourceType</text><ellipse cx="349" cy="416.2324" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="358" y="420.0234">FileName string</text><ellipse cx="349" cy="432.7207" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="358" y="436.5117">Subfs string</text><ellipse cx="349" cy="449.209" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="358" y="453">Supported bool</text><ellipse cx="349" cy="465.6973" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="358" y="469.4883">Validator ResourceValidator</text><line style="stroke:#181818;stroke-width:0.5;" x1="339" x2="769" y1="476.4414" y2="476.4414"/><ellipse cx="349" cy="490.1855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="358" y="493.9766">ResourceType() ResourceType</text><ellipse cx="349" cy="506.6738" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193" x="358" y="510.4648">Path(parentDir string) string</text><ellipse cx="349" cy="523.1621" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="358" y="526.9531">IsSupported() bool</text><ellipse cx="349" cy="539.6504" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="358" y="543.4414">IsValid(v string) (bool, string)</text><ellipse cx="349" cy="556.1387" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="406" x="358" y="559.9297">WithValidator(validator ResourceValidator) SystemResource</text></g><!--MD5=[7d1036facc49811352eeb7c8216edcb2]
class systemresource.CgroupResourceFactory--><g id="elem_systemresource.CgroupResourceFactory"><rect codeLine="16" fill="#F1F1F1" height="80.9766" id="systemresource.CgroupResourceFactory" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="485" x="1608.5" y="188.5"/><ellipse cx="1764.25" cy="204.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1760.6777,200.7651 L1760.6777,198.6069 L1768.0571,198.6069 L1768.0571,200.7651 L1765.5918,200.7651 L1765.5918,208.8418 L1768.0571,208.8418 L1768.0571,211 L1760.6777,211 L1760.6777,208.8418 L1763.1431,208.8418 L1763.1431,200.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="165" x="1784.75" y="209.791">CgroupResourceFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="1609.5" x2="2092.5" y1="220.5" y2="220.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="1609.5" x2="2092.5" y1="228.5" y2="228.5"/><ellipse cx="1619.5" cy="242.2441" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="459" x="1628.5" y="246.0352">New(t ResourceType, filename string, subfs string) SystemResource</text><ellipse cx="1619.5" cy="258.7324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="388" x="1628.5" y="262.5234">NewV2(t ResourceType, filename string) SystemResource</text></g><!--MD5=[cf9b1fa4e4d453c10de8518fbfa9a639]
class systemresource.CgroupResourceRegistry--><g id="elem_systemresource.CgroupResourceRegistry"><rect codeLine="21" fill="#F1F1F1" height="80.9766" id="systemresource.CgroupResourceRegistry" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="451" x="1122.5" y="188.5"/><ellipse cx="1258.75" cy="204.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1255.1777,200.7651 L1255.1777,198.6069 L1262.5571,198.6069 L1262.5571,200.7651 L1260.0918,200.7651 L1260.0918,208.8418 L1262.5571,208.8418 L1262.5571,211 L1255.1777,211 L1255.1777,208.8418 L1257.6431,208.8418 L1257.6431,200.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="170" x="1279.25" y="209.791">CgroupResourceRegistry</text><line style="stroke:#181818;stroke-width:0.5;" x1="1123.5" x2="1572.5" y1="220.5" y2="220.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="1123.5" x2="1572.5" y1="228.5" y2="228.5"/><ellipse cx="1133.5" cy="242.2441" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="295" x="1142.5" y="246.0352">Add(v CgroupVersion, s ...SystemResource)</text><ellipse cx="1133.5" cy="258.7324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="425" x="1142.5" y="262.5234">Get(v CgroupVersion, t ResourceType) (SystemResource, bool)</text></g><!--MD5=[b608ba163835507bd1cb63fc37ef7f71]
class systemresource.CgroupResourceRegistryImpl--><g id="elem_systemresource.CgroupResourceRegistryImpl"><rect codeLine="26" fill="#F1F1F1" height="130.4414" id="systemresource.CgroupResourceRegistryImpl" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="469" x="1104.5" y="395.5"/><ellipse cx="1234.75" cy="411.5" fill="#7FFFD4" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1234.4834,412.563 Q1232.6323,411.8574 1231.9766,411.0813 Q1231.3208,410.3052 1231.3208,408.9937 Q1231.3208,407.3086 1232.3999,406.3457 Q1233.479,405.3828 1235.3633,405.3828 Q1236.2183,405.3828 1237.0732,405.5779 Q1237.9282,405.7729 1238.7666,406.1548 L1238.7666,408.5454 Q1237.978,407.9893 1237.1646,407.6987 Q1236.3511,407.4082 1235.5542,407.4082 Q1234.666,407.4082 1234.1929,407.7651 Q1233.7197,408.1221 1233.7197,408.7861 Q1233.7197,409.3008 1234.0642,409.637 Q1234.4087,409.9731 1235.5044,410.3799 L1236.5586,410.7783 Q1238.0527,411.3262 1238.7583,412.231 Q1239.4639,413.1357 1239.4639,414.5137 Q1239.4639,416.3896 1238.3557,417.3152 Q1237.2476,418.2407 1235.0063,418.2407 Q1234.085,418.2407 1233.1594,418.0208 Q1232.2339,417.8008 1231.3706,417.3691 L1231.3706,414.8374 Q1232.3501,415.5347 1233.2673,415.875 Q1234.1846,416.2153 1235.0811,416.2153 Q1235.9858,416.2153 1236.4839,415.8044 Q1236.9819,415.3936 1236.9819,414.6548 Q1236.9819,414.0986 1236.6499,413.6794 Q1236.3179,413.2603 1235.687,413.0195 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="1255.25" y="416.791">CgroupResourceRegistryImpl</text><line style="stroke:#181818;stroke-width:0.5;" x1="1105.5" x2="1572.5" y1="427.5" y2="427.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1112.5" y="438.2441"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1124.5" y="445.0352">lock sync.RWMutex</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1112.5" y="454.7324"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="16" x="1124.5" y="461.5234">v1</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="1144.5" y="461.5234">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="217" x="1174.5" y="461.5234">[ResourceType]SystemResource</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1112.5" y="471.2207"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="16" x="1124.5" y="478.0117">v2</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="1144.5" y="478.0117">map</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="217" x="1174.5" y="478.0117">[ResourceType]SystemResource</text><line style="stroke:#181818;stroke-width:0.5;" x1="1105.5" x2="1572.5" y1="484.9648" y2="484.9648"/><ellipse cx="1115.5" cy="498.709" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="295" x="1124.5" y="502.5">Add(v CgroupVersion, s ...SystemResource)</text><ellipse cx="1115.5" cy="515.1973" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="443" x="1124.5" y="518.9883">Get(v CgroupVersion, key ResourceType) (SystemResource, bool)</text></g><!--MD5=[1458e3a851f67ce61867594b5a4a3253]
class systemresource.RangeValidator--><g id="elem_systemresource.RangeValidator"><rect codeLine="35" fill="#F1F1F1" height="113.9531" id="systemresource.RangeValidator" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="264" x="805" y="403.5"/><ellipse cx="880.25" cy="419.5" fill="#7FFFD4" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M879.9834,420.563 Q878.1323,419.8574 877.4766,419.0813 Q876.8208,418.3052 876.8208,416.9937 Q876.8208,415.3086 877.8999,414.3457 Q878.979,413.3828 880.8633,413.3828 Q881.7183,413.3828 882.5732,413.5779 Q883.4282,413.7729 884.2666,414.1548 L884.2666,416.5454 Q883.478,415.9893 882.6646,415.6987 Q881.8511,415.4082 881.0542,415.4082 Q880.166,415.4082 879.6929,415.7651 Q879.2197,416.1221 879.2197,416.7861 Q879.2197,417.3008 879.5642,417.637 Q879.9087,417.9731 881.0044,418.3799 L882.0586,418.7783 Q883.5527,419.3262 884.2583,420.231 Q884.9639,421.1357 884.9639,422.5137 Q884.9639,424.3896 883.8557,425.3152 Q882.7476,426.2407 880.5063,426.2407 Q879.585,426.2407 878.6594,426.0208 Q877.7339,425.8008 876.8706,425.3691 L876.8706,422.8374 Q877.8501,423.5347 878.7673,423.875 Q879.6846,424.2153 880.5811,424.2153 Q881.4858,424.2153 881.9839,423.8044 Q882.4819,423.3936 882.4819,422.6548 Q882.4819,422.0986 882.1499,421.6794 Q881.8179,421.2603 881.187,421.0195 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="900.75" y="424.791">RangeValidator</text><line style="stroke:#181818;stroke-width:0.5;" x1="806" x2="1068" y1="435.5" y2="435.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="813" y="446.2441"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="825" y="453.0352">name string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="813" y="462.7324"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="825" y="469.5234">max int64</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="813" y="479.2207"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="825" y="486.0117">min int64</text><line style="stroke:#181818;stroke-width:0.5;" x1="806" x2="1068" y1="492.9648" y2="492.9648"/><ellipse cx="816" cy="506.709" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="825" y="510.5">Validate(value string) (bool, string)</text></g><!--MD5=[7420c236052a8502362b368222a5322a]
class systemresource.ResourceValidator--><g id="elem_systemresource.ResourceValidator"><rect codeLine="43" fill="#F1F1F1" height="64.4883" id="systemresource.ResourceValidator" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="264" x="823" y="197"/><ellipse cx="888.25" cy="213" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M884.6777,209.2651 L884.6777,207.1069 L892.0571,207.1069 L892.0571,209.2651 L889.5918,209.2651 L889.5918,217.3418 L892.0571,217.3418 L892.0571,219.5 L884.6777,219.5 L884.6777,217.3418 L887.1431,217.3418 L887.1431,209.2651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="125" x="908.75" y="218.291">ResourceValidator</text><line style="stroke:#181818;stroke-width:0.5;" x1="824" x2="1086" y1="229" y2="229"/><line style="stroke:#181818;stroke-width:0.5;" x1="824" x2="1086" y1="237" y2="237"/><ellipse cx="834" cy="250.7441" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="843" y="254.5352">Validate(value string) (bool, string)</text></g><!--MD5=[fc6892249b04243db5c5b53ae9710a71]
class systemresource.SystemResource--><g id="elem_systemresource.SystemResource"><rect codeLine="47" fill="#F1F1F1" height="130.4414" id="systemresource.SystemResource" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="432" x="356" y="164"/><ellipse cx="512.25" cy="180" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M508.6777,176.2651 L508.6777,174.1069 L516.0571,174.1069 L516.0571,176.2651 L513.5918,176.2651 L513.5918,184.3418 L516.0571,184.3418 L516.0571,186.5 L508.6777,186.5 L508.6777,184.3418 L511.1431,184.3418 L511.1431,176.2651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="111" x="532.75" y="185.291">SystemResource</text><line style="stroke:#181818;stroke-width:0.5;" x1="357" x2="787" y1="196" y2="196"/><line style="stroke:#181818;stroke-width:0.5;" x1="357" x2="787" y1="204" y2="204"/><ellipse cx="367" cy="217.7441" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="376" y="221.5352">ResourceType() ResourceType</text><ellipse cx="367" cy="234.2324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193" x="376" y="238.0234">Path(parentDir string) string</text><ellipse cx="367" cy="250.7207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="376" y="254.5117">IsSupported() bool</text><ellipse cx="367" cy="267.209" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="376" y="271">IsValid(v string) (bool, string)</text><ellipse cx="367" cy="283.6973" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="406" x="376" y="287.4883">WithValidator(validator ResourceValidator) SystemResource</text></g><!--MD5=[30b82c38f597ce37d64412b82b3091a1]
class systemresource.cgroupResourceFactoryImpl--><g id="elem_systemresource.cgroupResourceFactoryImpl"><rect codeLine="55" fill="#F1F1F1" height="80.9766" id="systemresource.cgroupResourceFactoryImpl" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="485" x="1608.5" y="420"/><ellipse cx="1750.75" cy="436" fill="#7FFFD4" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1750.4834,437.063 Q1748.6323,436.3574 1747.9766,435.5813 Q1747.3208,434.8052 1747.3208,433.4937 Q1747.3208,431.8086 1748.3999,430.8457 Q1749.479,429.8828 1751.3633,429.8828 Q1752.2183,429.8828 1753.0732,430.0779 Q1753.9282,430.2729 1754.7666,430.6548 L1754.7666,433.0454 Q1753.978,432.4893 1753.1646,432.1987 Q1752.3511,431.9082 1751.5542,431.9082 Q1750.666,431.9082 1750.1929,432.2651 Q1749.7197,432.6221 1749.7197,433.2861 Q1749.7197,433.8008 1750.0642,434.137 Q1750.4087,434.4731 1751.5044,434.8799 L1752.5586,435.2783 Q1754.0527,435.8262 1754.7583,436.731 Q1755.4639,437.6357 1755.4639,439.0137 Q1755.4639,440.8896 1754.3557,441.8152 Q1753.2476,442.7407 1751.0063,442.7407 Q1750.085,442.7407 1749.1594,442.5208 Q1748.2339,442.3008 1747.3706,441.8691 L1747.3706,439.3374 Q1748.3501,440.0347 1749.2673,440.375 Q1750.1846,440.7153 1751.0811,440.7153 Q1751.9858,440.7153 1752.4839,440.3044 Q1752.9819,439.8936 1752.9819,439.1548 Q1752.9819,438.5986 1752.6499,438.1794 Q1752.3179,437.7603 1751.687,437.5195 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="192" x="1771.25" y="441.291">cgroupResourceFactoryImpl</text><line style="stroke:#181818;stroke-width:0.5;" x1="1609.5" x2="2092.5" y1="452" y2="452"/><line style="stroke:#181818;stroke-width:0.5;" x1="1609.5" x2="2092.5" y1="460" y2="460"/><ellipse cx="1619.5" cy="473.7441" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="459" x="1628.5" y="477.5352">New(t ResourceType, filename string, subfs string) SystemResource</text><ellipse cx="1619.5" cy="490.2324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="388" x="1628.5" y="494.0234">NewV2(t ResourceType, filename string) SystemResource</text></g><!--MD5=[cc7be786c6c63ac51826ed49e468cc52]
class systemresource.CgroupVersion--><g id="elem_systemresource.CgroupVersion"><rect codeLine="60" fill="#F1F1F1" height="48" id="systemresource.CgroupVersion" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="185" y="205"/><ellipse cx="200" cy="221" fill="#FF7700" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M201.3418,228.25 L198.8931,228.25 L198.8931,217.9985 L195.7471,217.9985 L195.7471,215.8569 L204.4878,215.8569 L204.4878,217.9985 L201.3418,217.9985 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="214" y="226.291">CgroupVersion</text><line style="stroke:#181818;stroke-width:0.5;" x1="186" x2="320" y1="237" y2="237"/><line style="stroke:#181818;stroke-width:0.5;" x1="186" x2="320" y1="245" y2="245"/></g><!--MD5=[67a6de5834901769c2b764effe919406]
class systemresource.ResourceType--><g id="elem_systemresource.ResourceType"><rect codeLine="62" fill="#F1F1F1" height="48" id="systemresource.ResourceType" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="22" y="205"/><ellipse cx="37" cy="221" fill="#FF7700" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M38.3418,228.25 L35.8931,228.25 L35.8931,217.9985 L32.7471,217.9985 L32.7471,215.8569 L41.4878,215.8569 L41.4878,217.9985 L38.3418,217.9985 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="51" y="226.291">ResourceType</text><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="149" y1="237" y2="237"/><line style="stroke:#181818;stroke-width:0.5;" x1="23" x2="149" y1="245" y2="245"/></g><!--MD5=[233a4f4bde9122ebde9f69e6a54ad2c2]
class __builtin__.int32--><g id="elem___builtin__.int32"><rect fill="#F1F1F1" height="48" id="__builtin__.int32" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="68" x="188" y="41"/><ellipse cx="203" cy="57" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M205.4731,63.1431 Q204.8921,63.4419 204.2529,63.5913 Q203.6138,63.7407 202.9082,63.7407 Q200.4014,63.7407 199.0815,62.0889 Q197.7617,60.437 197.7617,57.3159 Q197.7617,54.1865 199.0815,52.5347 Q200.4014,50.8828 202.9082,50.8828 Q203.6138,50.8828 204.2612,51.0322 Q204.9087,51.1816 205.4731,51.4805 L205.4731,54.2031 Q204.8423,53.6221 204.2488,53.3523 Q203.6553,53.0825 203.0244,53.0825 Q201.6797,53.0825 200.9949,54.1492 Q200.3101,55.2158 200.3101,57.3159 Q200.3101,59.4077 200.9949,60.4744 Q201.6797,61.541 203.0244,61.541 Q203.6553,61.541 204.2488,61.2712 Q204.8423,61.0015 205.4731,60.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="217" y="62.291">int32</text><line style="stroke:#181818;stroke-width:0.5;" x1="189" x2="255" y1="73" y2="73"/><line style="stroke:#181818;stroke-width:0.5;" x1="189" x2="255" y1="81" y2="81"/></g><!--MD5=[aaadaf5c3ad6e0e0dd8a1e035309d301]
class __builtin__.string--><g id="elem___builtin__.string"><rect fill="#F1F1F1" height="48" id="__builtin__.string" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="72" x="81" y="41"/><ellipse cx="96" cy="57" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M98.4731,63.1431 Q97.8921,63.4419 97.2529,63.5913 Q96.6138,63.7407 95.9082,63.7407 Q93.4014,63.7407 92.0815,62.0889 Q90.7617,60.437 90.7617,57.3159 Q90.7617,54.1865 92.0815,52.5347 Q93.4014,50.8828 95.9082,50.8828 Q96.6138,50.8828 97.2612,51.0322 Q97.9087,51.1816 98.4731,51.4805 L98.4731,54.2031 Q97.8423,53.6221 97.2488,53.3523 Q96.6553,53.0825 96.0244,53.0825 Q94.6797,53.0825 93.9949,54.1492 Q93.3101,55.2158 93.3101,57.3159 Q93.3101,59.4077 93.9949,60.4744 Q94.6797,61.541 96.0244,61.541 Q96.6553,61.541 97.2488,61.2712 Q97.8423,61.0015 98.4731,60.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="110" y="62.291">string</text><line style="stroke:#181818;stroke-width:0.5;" x1="82" x2="152" y1="73" y2="73"/><line style="stroke:#181818;stroke-width:0.5;" x1="82" x2="152" y1="81" y2="81"/></g><!--MD5=[f2299302e19322a0e57b81d5c6096fbd]
reverse link systemresource.SystemResource to systemresource.CgroupResource--><g id="link_systemresource.SystemResource_systemresource.CgroupResource"><path codeLine="66" d="M565.37,314.52 C564.36,327.35 563.32,340.73 562.28,353.95 " fill="none" id="systemresource.SystemResource-backto-systemresource.CgroupResource" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="558.42,313.63,566.96,294.23,572.38,314.72,558.42,313.63" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[7c5d29db2e62b8e658f076355149c765]
reverse link systemresource.CgroupResourceRegistry to systemresource.CgroupResourceRegistryImpl--><g id="link_systemresource.CgroupResourceRegistry_systemresource.CgroupResourceRegistryImpl"><path codeLine="67" d="M1345.66,289.73 C1344.39,322.09 1342.82,362.1 1341.52,395.15 " fill="none" id="systemresource.CgroupResourceRegistry-backto-systemresource.CgroupResourceRegistryImpl" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1338.66,289.42,1346.44,269.71,1352.65,289.97,1338.66,289.42" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[f600573a4b0c1d34df0439956daafc54]
reverse link systemresource.ResourceValidator to systemresource.RangeValidator--><g id="link_systemresource.ResourceValidator_systemresource.RangeValidator"><path codeLine="68" d="M950.97,281.42 C948.13,317.64 944.32,366.11 941.4,403.34 " fill="none" id="systemresource.ResourceValidator-backto-systemresource.RangeValidator" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="943.99,280.82,952.53,261.43,957.95,281.92,943.99,280.82" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[704c49d6fe9ffa7b4e447a1e416f7bac]
reverse link systemresource.CgroupResourceFactory to systemresource.cgroupResourceFactoryImpl--><g id="link_systemresource.CgroupResourceFactory_systemresource.cgroupResourceFactoryImpl"><path codeLine="69" d="M1851,289.88 C1851,330.87 1851,384.09 1851,419.89 " fill="none" id="systemresource.CgroupResourceFactory-backto-systemresource.cgroupResourceFactoryImpl" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1844,289.71,1851,269.71,1858,289.71,1844,289.71" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[7a62891ebddb551d61eddf3e7da50bcd]
reverse link __builtin__.int32 to systemresource.CgroupVersion--><g id="link___builtin__.int32_systemresource.CgroupVersion"><path codeLine="71" d="M227.45,94.46 C233.45,125.85 243,175.74 248.57,204.83 " fill="none" id="__builtin__.int32-backto-systemresource.CgroupVersion" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><rect fill="#FFFFFF" height="10" style="stroke:#181818;stroke-width:1.5;" width="10" x="221.44" y="84.21"/></g><!--MD5=[80e81368375176cda373e47f834cfe03]
reverse link __builtin__.string to systemresource.ResourceType--><g id="link___builtin__.string_systemresource.ResourceType"><path codeLine="72" d="M111.55,94.46 C105.55,125.85 96,175.74 90.43,204.83 " fill="none" id="__builtin__.string-backto-systemresource.ResourceType" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><rect fill="#FFFFFF" height="10" style="stroke:#181818;stroke-width:1.5;" width="10" x="107.56" y="84.21"/></g><!--MD5=[2870985e5571bd75a281cbea41902382]
@startuml
namespace systemresource {
    class CgroupResource << (S,Aquamarine) >> {
        + Type ResourceType
        + FileName string
        + Subfs string
        + Supported bool
        + Validator ResourceValidator

        + ResourceType() ResourceType
        + Path(parentDir string) string
        + IsSupported() bool
        + IsValid(v string) (bool, string)
        + WithValidator(validator ResourceValidator) SystemResource

    }
    interface CgroupResourceFactory  {
        + New(t ResourceType, filename string, subfs string) SystemResource
        + NewV2(t ResourceType, filename string) SystemResource

    }
    interface CgroupResourceRegistry  {
        + Add(v CgroupVersion, s ...SystemResource) 
        + Get(v CgroupVersion, t ResourceType) (SystemResource, bool)

    }
    class CgroupResourceRegistryImpl << (S,Aquamarine) >> {
        - lock sync.RWMutex
        - v1 <font color=blue>map</font>[ResourceType]SystemResource
        - v2 <font color=blue>map</font>[ResourceType]SystemResource

        + Add(v CgroupVersion, s ...SystemResource) 
        + Get(v CgroupVersion, key ResourceType) (SystemResource, bool)

    }
    class RangeValidator << (S,Aquamarine) >> {
        - name string
        - max int64
        - min int64

        + Validate(value string) (bool, string)

    }
    interface ResourceValidator  {
        + Validate(value string) (bool, string)

    }
    interface SystemResource  {
        + ResourceType() ResourceType
        + Path(parentDir string) string
        + IsSupported() bool
        + IsValid(v string) (bool, string)
        + WithValidator(validator ResourceValidator) SystemResource

    }
    class cgroupResourceFactoryImpl << (S,Aquamarine) >> {
        + New(t ResourceType, filename string, subfs string) SystemResource
        + NewV2(t ResourceType, filename string) SystemResource

    }
    class systemresource.CgroupVersion << (T, #FF7700) >>  {
    }
    class systemresource.ResourceType << (T, #FF7700) >>  {
    }
}

"systemresource.SystemResource" <|- - "systemresource.CgroupResource"
"systemresource.CgroupResourceRegistry" <|- - "systemresource.CgroupResourceRegistryImpl"
"systemresource.ResourceValidator" <|- - "systemresource.RangeValidator"
"systemresource.CgroupResourceFactory" <|- - "systemresource.cgroupResourceFactoryImpl"

"__builtin__.int32" #.. "systemresource.CgroupVersion"
"__builtin__.string" #.. "systemresource.ResourceType"
@enduml

PlantUML version 1.2022.7(Tue Aug 23 01:01:30 CST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>